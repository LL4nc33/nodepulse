<!-- Add Node Left Sidepanel -->
<div class="left-panel-overlay" id="addNodePanelOverlay" onclick="closeAddNodePanel()"></div>
<aside class="left-panel" id="addNodePanel">
  <div class="left-panel-header">
    <h2>
      <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <line x1="12" y1="5" x2="12" y2="19"/><line x1="5" y1="12" x2="19" y2="12"/>
      </svg>
      Node hinzufuegen
    </h2>
    <button class="left-panel-close" onclick="closeAddNodePanel()" title="Schliessen">
      <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <line x1="18" y1="6" x2="6" y2="18"/><line x1="6" y1="6" x2="18" y2="18"/>
      </svg>
    </button>
  </div>

  <form id="addNodeForm" onsubmit="submitAddNode(event)">
    <div class="left-panel-body">
      <!-- Basic Info -->
      <div class="left-panel-section">
        <h3>Grundeinstellungen</h3>
        <div class="form-group">
          <label for="add-name">Name *</label>
          <input type="text" id="add-name" name="name" required maxlength="255"
                 placeholder="z.B. proxmox-01" autocomplete="off">
          <small>Eindeutiger Name fuer den Node</small>
        </div>
        <div class="form-group">
          <label for="add-host">Host / IP *</label>
          <input type="text" id="add-host" name="host" required maxlength="255"
                 placeholder="z.B. 192.168.1.100" autocomplete="off">
          <small>IP-Adresse oder Hostname</small>
        </div>
      </div>

      <!-- SSH Settings -->
      <div class="left-panel-section">
        <h3>SSH Verbindung</h3>
        <div class="form-row">
          <div class="form-group">
            <label for="add-ssh_user">User *</label>
            <input type="text" id="add-ssh_user" name="ssh_user" value="root" required maxlength="64" autocomplete="off">
          </div>
          <div class="form-group form-group-small">
            <label for="add-ssh_port">Port</label>
            <input type="number" id="add-ssh_port" name="ssh_port" value="22" min="1" max="65535">
          </div>
        </div>
        <div class="form-group">
          <label for="add-ssh_password">Passwort</label>
          <input type="password" id="add-ssh_password" name="ssh_password" autocomplete="new-password"
                 placeholder="Passwort oder leer fuer Key-Auth">
          <small>Passwort-Auth (wird Key vorgezogen)</small>
        </div>
        <div class="form-group">
          <label for="add-ssh_key_path">SSH Key Pfad</label>
          <input type="text" id="add-ssh_key_path" name="ssh_key_path" autocomplete="off"
                 placeholder="z.B. ~/.ssh/id_rsa">
          <small>Fallback wenn kein Passwort angegeben</small>
        </div>
      </div>

      <!-- Notes -->
      <div class="left-panel-section">
        <h3>Notizen</h3>
        <div class="form-group">
          <textarea id="add-notes" name="notes" rows="3" placeholder="Optionale Notizen..."></textarea>
        </div>
      </div>
    </div>

    <div class="left-panel-footer">
      <button type="button" class="btn btn-secondary" onclick="closeAddNodePanel()">Abbrechen</button>
      <button type="submit" class="btn btn-primary" id="addNodeSaveBtn">
        <span class="btn-text">Node erstellen</span>
        <span class="btn-loading"><span class="spinner"></span></span>
      </button>
    </div>
  </form>
</aside>
