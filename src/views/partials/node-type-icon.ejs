<%
  var type = typeof nodeType !== 'undefined' ? nodeType : 'unknown';
  var iconSize = typeof size !== 'undefined' ? size : 18;
%>
<span class="node-type-icon node-type-<%= type %>" style="width: <%= iconSize %>px; height: <%= iconSize %>px; display: inline-block; vertical-align: middle;">
<% if (type === 'proxmox-host' || type === 'proxmox') { %>
  <svg viewBox="0 0 24 24" width="<%= iconSize %>" height="<%= iconSize %>" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M12 2L21 7V17L12 22L3 17V7L12 2Z" fill="#E57000" stroke="#E57000" stroke-width="1"/>
    <text x="12" y="16" text-anchor="middle" fill="white" font-size="10" font-weight="bold" font-family="sans-serif">P</text>
  </svg>
<% } else if (type === 'docker-host' || type === 'docker') { %>
  <svg viewBox="0 0 24 24" width="<%= iconSize %>" height="<%= iconSize %>" fill="none" xmlns="http://www.w3.org/2000/svg">
    <rect x="2" y="10" width="20" height="11" rx="2" fill="#2496ED"/>
    <rect x="4" y="12" width="3" height="3" fill="white" rx="0.5"/>
    <rect x="8" y="12" width="3" height="3" fill="white" rx="0.5"/>
    <rect x="12" y="12" width="3" height="3" fill="white" rx="0.5"/>
    <rect x="16" y="12" width="3" height="3" fill="white" rx="0.5"/>
    <rect x="8" y="6" width="3" height="3" fill="#2496ED" rx="0.5"/>
    <rect x="12" y="6" width="3" height="3" fill="#2496ED" rx="0.5"/>
    <rect x="8" y="2" width="3" height="3" fill="#2496ED" rx="0.5"/>
  </svg>
<% } else if (type === 'raspberry-pi' || type === 'raspberrypi' || type === 'rpi') { %>
  <svg viewBox="0 0 24 24" width="<%= iconSize %>" height="<%= iconSize %>" fill="none" xmlns="http://www.w3.org/2000/svg">
    <ellipse cx="12" cy="14" rx="8" ry="7" fill="#C51A4A"/>
    <path d="M10 4C10 2.89543 10.8954 2 12 2C13.1046 2 14 2.89543 14 4V7H10V4Z" fill="#75A928"/>
    <circle cx="8" cy="12" r="1.5" fill="#E8315B"/>
    <circle cx="12" cy="11" r="1.5" fill="#E8315B"/>
    <circle cx="16" cy="12" r="1.5" fill="#E8315B"/>
    <circle cx="10" cy="15" r="1.5" fill="#E8315B"/>
    <circle cx="14" cy="15" r="1.5" fill="#E8315B"/>
    <circle cx="12" cy="18" r="1.5" fill="#E8315B"/>
  </svg>
<% } else if (type === 'linux' || type === 'ubuntu' || type === 'debian') { %>
  <svg viewBox="0 0 24 24" width="<%= iconSize %>" height="<%= iconSize %>" fill="none" xmlns="http://www.w3.org/2000/svg">
    <ellipse cx="12" cy="14" rx="6" ry="8" fill="#333333"/>
    <ellipse cx="12" cy="15" rx="4" ry="5" fill="#FCC624"/>
    <circle cx="10" cy="9" r="1.5" fill="white"/>
    <circle cx="14" cy="9" r="1.5" fill="white"/>
    <circle cx="10" cy="9" r="0.75" fill="black"/>
    <circle cx="14" cy="9" r="0.75" fill="black"/>
    <ellipse cx="12" cy="12" rx="1.5" ry="1" fill="#E57000"/>
    <ellipse cx="7" cy="19" rx="2" ry="3" fill="#E57000"/>
    <ellipse cx="17" cy="19" rx="2" ry="3" fill="#E57000"/>
  </svg>
<% } else if (type === 'windows') { %>
  <svg viewBox="0 0 24 24" width="<%= iconSize %>" height="<%= iconSize %>" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M3 5.5L10 4.5V11.5H3V5.5Z" fill="#00ADEF"/>
    <path d="M11 4.3L21 3V11.5H11V4.3Z" fill="#00ADEF"/>
    <path d="M3 12.5H10V19.5L3 18.5V12.5Z" fill="#00ADEF"/>
    <path d="M11 12.5H21V21L11 19.7V12.5Z" fill="#00ADEF"/>
  </svg>
<% } else if (type === 'vm' || type === 'virtual-machine') { %>
  <svg viewBox="0 0 24 24" width="<%= iconSize %>" height="<%= iconSize %>" fill="none" xmlns="http://www.w3.org/2000/svg">
    <rect x="3" y="4" width="18" height="14" rx="2" fill="#6B7280" stroke="#4B5563" stroke-width="1"/>
    <rect x="5" y="6" width="14" height="10" rx="1" fill="#374151"/>
    <text x="12" y="14" text-anchor="middle" fill="#9CA3AF" font-size="6" font-weight="bold" font-family="sans-serif">VM</text>
    <rect x="8" y="19" width="8" height="2" fill="#6B7280"/>
  </svg>
<% } else if (type === 'container' || type === 'ct' || type === 'lxc') { %>
  <svg viewBox="0 0 24 24" width="<%= iconSize %>" height="<%= iconSize %>" fill="none" xmlns="http://www.w3.org/2000/svg">
    <rect x="4" y="3" width="16" height="5" rx="1" fill="#8B5CF6" stroke="#7C3AED" stroke-width="0.5"/>
    <rect x="4" y="9" width="16" height="5" rx="1" fill="#8B5CF6" stroke="#7C3AED" stroke-width="0.5"/>
    <rect x="4" y="15" width="16" height="5" rx="1" fill="#8B5CF6" stroke="#7C3AED" stroke-width="0.5"/>
    <circle cx="7" cy="5.5" r="1" fill="#22C55E"/>
    <circle cx="7" cy="11.5" r="1" fill="#22C55E"/>
    <circle cx="7" cy="17.5" r="1" fill="#EAB308"/>
  </svg>
<% } else { %>
  <svg viewBox="0 0 24 24" width="<%= iconSize %>" height="<%= iconSize %>" fill="none" xmlns="http://www.w3.org/2000/svg">
    <rect x="4" y="4" width="16" height="6" rx="1" fill="#6B7280"/>
    <rect x="4" y="11" width="16" height="6" rx="1" fill="#6B7280"/>
    <circle cx="7" cy="7" r="1" fill="#22C55E"/>
    <circle cx="7" cy="14" r="1" fill="#22C55E"/>
    <rect x="10" y="6" width="6" height="2" fill="#374151"/>
    <rect x="10" y="13" width="6" height="2" fill="#374151"/>
    <rect x="8" y="18" width="8" height="2" fill="#4B5563"/>
  </svg>
<% } %>
</span>
