<!-- Terminal Bottom Panel -->
<div class="terminal-panel hidden" id="terminalPanel">
  <!-- Resize Handle -->
  <div class="terminal-resize-handle" id="terminalResizeHandle"></div>

  <!-- Terminal Header -->
  <div class="terminal-panel-header">
    <div class="terminal-panel-title">
      <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <polyline points="4 17 10 11 4 5"/>
        <line x1="12" y1="19" x2="20" y2="19"/>
      </svg>
      <span>Terminal (<%= node.name %>)</span>
    </div>
    <div class="terminal-panel-actions">
      <button type="button" class="terminal-panel-btn" id="terminalMinimizeBtn" title="Minimieren" onclick="toggleTerminalPanel()">
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <polyline points="18 15 12 9 6 15"/>
        </svg>
      </button>
      <button type="button" class="terminal-panel-btn" id="terminalClearBtn" title="Output leeren" onclick="clearOutput()">
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <polyline points="3 6 5 6 21 6"/>
          <path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"/>
        </svg>
      </button>
    </div>
  </div>

  <!-- Terminal Content -->
  <div class="terminal-panel-content" id="terminalPanelContent">
    <!-- Command Input -->
    <div class="terminal-input-section">
      <form id="command-form" onsubmit="executeCommand(event, <%= node.id %>)">
        <div class="terminal-input-wrapper">
          <span class="terminal-prompt">$</span>
          <input type="text" id="command-input" name="command" class="terminal-input"
                 placeholder="Befehl eingeben (z.B. uptime, free -h)..." autocomplete="off" maxlength="2000">
          <button type="submit" class="btn btn-primary btn-sm" id="btn-execute">
            <span class="btn-text">Ausführen</span>
            <span class="btn-loading"><span class="spinner"></span></span>
          </button>
        </div>
      </form>
    </div>

    <!-- Quick Commands -->
    <div class="terminal-quick-commands">
      <span class="quick-commands-label">Schnell:</span>
      <button type="button" class="btn btn-xs btn-quick" onclick="setCommand('uptime')">uptime</button>
      <button type="button" class="btn btn-xs btn-quick" onclick="setCommand('free -h')">free</button>
      <button type="button" class="btn btn-xs btn-quick" onclick="setCommand('df -h')">df</button>
      <button type="button" class="btn btn-xs btn-quick" onclick="setCommand('top -bn1 | head -20')">top</button>
      <button type="button" class="btn btn-xs btn-quick" onclick="setCommand('ps aux --sort=-%mem | head -15')">ps</button>
    </div>

    <!-- Output Area -->
    <div class="terminal-output-section">
      <pre id="terminal-output" class="terminal-output">Bereit. Befehl eingeben und Enter drücken.</pre>
    </div>
  </div>
</div>

<!-- Terminal Toggle Button (Floating) -->
<button class="terminal-toggle-btn" id="terminalToggleBtn" onclick="toggleTerminalPanel()" title="Terminal öffnen">
  <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
    <polyline points="4 17 10 11 4 5"/>
    <line x1="12" y1="19" x2="20" y2="19"/>
  </svg>
</button>
