<!-- Terminal Bottom Panel - Real Terminal Style -->
<div class="terminal-panel hidden" id="terminalPanel">
  <!-- Resize Handle -->
  <div class="terminal-resize-handle" id="terminalResizeHandle"></div>

  <!-- Terminal Header with Tab Bar -->
  <div class="terminal-panel-header">
    <!-- Tab Bar -->
    <div class="terminal-tab-bar" role="tablist" id="terminalTabBar">
      <!-- Tabs will be rendered by JavaScript -->
    </div>

    <!-- Terminal Actions (compact) -->
    <div class="terminal-panel-actions">
      <!-- Quick Commands Dropdown -->
      <div class="quick-cmd-dropdown">
        <button type="button" class="terminal-panel-btn" id="quickCmdToggle" title="Quick Commands">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <polyline points="4 17 10 11 4 5"/>
            <line x1="12" y1="19" x2="20" y2="19"/>
          </svg>
        </button>
        <div class="quick-cmd-menu" id="quickCmdMenu">
          <button type="button" onclick="runQuickCommand('uptime')">uptime</button>
          <button type="button" onclick="runQuickCommand('free -h')">free -h</button>
          <button type="button" onclick="runQuickCommand('df -h')">df -h</button>
          <button type="button" onclick="runQuickCommand('top -bn1 | head -20')">top</button>
          <button type="button" onclick="runQuickCommand('ps aux --sort=-%mem | head -15')">ps mem</button>
          <button type="button" onclick="runQuickCommand('ls -la')">ls -la</button>
        </div>
      </div>

      <!-- Theme Toggle -->
      <button type="button" class="terminal-panel-btn" id="terminalThemeToggle"
              title="Light/Dark Mode" onclick="toggleTerminalTheme()">
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <circle cx="12" cy="12" r="5"/>
          <line x1="12" y1="1" x2="12" y2="3"/>
        </svg>
      </button>

      <!-- Clear -->
      <button type="button" class="terminal-panel-btn" id="terminalClearBtn"
              title="Clear (Ctrl+L)" onclick="clearTerminal()">
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <polyline points="3 6 5 6 21 6"/>
          <path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6"/>
        </svg>
      </button>

      <!-- Minimize -->
      <button type="button" class="terminal-panel-btn" id="terminalMinimizeBtn"
              title="Minimieren" onclick="toggleTerminalPanel()">
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <polyline points="18 15 12 9 6 15"/>
        </svg>
      </button>
    </div>
  </div>

  <!-- Terminal Body (single continuous area like real terminal) -->
  <div class="terminal-body" id="terminalBody">
    <!-- History + Output (scrollable) -->
    <div class="terminal-history" id="terminalHistory">
      <!-- Command history will be appended here -->
    </div>

    <!-- Current Input Line (always at bottom) -->
    <div class="terminal-input-line" id="terminalInputLine">
      <span class="terminal-prompt" id="terminalPrompt">
        <span class="prompt-user"><%= node.ssh_user || 'root' %></span><span class="prompt-at">@</span><span class="prompt-host"><%= node.name %></span><span class="prompt-colon">:</span><span class="prompt-path">~</span><span class="prompt-dollar">$</span>
      </span>
      <input type="text" id="terminalInput" class="terminal-input-field"
             autocomplete="off" spellcheck="false" autofocus>
    </div>
  </div>
</div>

<!-- Terminal Toggle Button (Floating) -->
<button class="terminal-toggle-btn" id="terminalToggleBtn" onclick="toggleTerminalPanel()" title="Terminal (Ctrl+`)">
  <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
    <polyline points="4 17 10 11 4 5"/>
    <line x1="12" y1="19" x2="20" y2="19"/>
  </svg>
</button>
