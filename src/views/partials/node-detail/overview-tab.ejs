<!-- Overview Tab - Proxmox VE Style -->
<div class="tab-content active" id="tab-overview">
  <!-- Hero Metrics Section (Proxmox-Style) -->
  <div class="hero-metrics">
    <%
      // Helper function für Bytes-Formatierung
      function formatBytesLocal(bytes) {
        if (!bytes || bytes === 0) return '0 B';
        var sizes = ['B', 'KB', 'MB', 'GB', 'TB'];
        var i = Math.floor(Math.log(bytes) / Math.log(1024));
        return (bytes / Math.pow(1024, i)).toFixed(1) + ' ' + sizes[i];
      }

      // CPU-Temperaturen extrahieren
      var cpuTemps = [];
      try {
        var allThermals = JSON.parse((hardware && hardware.thermal_json) || '[]');
        cpuTemps = allThermals.filter(function(s) {
          var name = (s.name || '').toLowerCase();
          var label = (s.label || '').toLowerCase();
          return name.indexOf('cpu') !== -1 || name.indexOf('coretemp') !== -1 ||
                 name.indexOf('k10temp') !== -1 || label.indexOf('package') !== -1 ||
                 label.indexOf('tctl') !== -1;
        });
      } catch(e) {}

      var cpuPercent = (typeof currentStats !== 'undefined' && currentStats) ? currentStats.cpu_percent : null;
      var ramPercent = (typeof currentStats !== 'undefined' && currentStats) ? currentStats.ram_percent : null;
      var diskPercent = (typeof currentStats !== 'undefined' && currentStats) ? currentStats.disk_percent : null;
      var isOffline = !node.online;
    %>

    <!-- CPU Card -->
    <div class="hero-metric-card <%= isOffline ? 'offline' : (cpuPercent >= 90 ? 'critical' : (cpuPercent >= 70 ? 'warning' : '')) %>">
      <div class="hero-metric-header">
        <svg class="hero-metric-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <rect x="4" y="4" width="16" height="16" rx="2"/>
          <rect x="9" y="9" width="6" height="6"/>
          <line x1="9" y1="1" x2="9" y2="4"/><line x1="15" y1="1" x2="15" y2="4"/>
          <line x1="9" y1="20" x2="9" y2="23"/><line x1="15" y1="20" x2="15" y2="23"/>
          <line x1="20" y1="9" x2="23" y2="9"/><line x1="20" y1="14" x2="23" y2="14"/>
          <line x1="1" y1="9" x2="4" y2="9"/><line x1="1" y1="14" x2="4" y2="14"/>
        </svg>
        <span class="hero-metric-title">CPU</span>
        <% if (cpuTemps.length > 0 && cpuTemps[0].temp_c) { %>
          <span class="hero-metric-temp <%= cpuTemps[0].temp_c >= 80 ? 'critical' : (cpuTemps[0].temp_c >= 60 ? 'warning' : '') %>" id="cpu-temp">
            <%= cpuTemps[0].temp_c.toFixed(0) %>&deg;C
          </span>
        <% } %>
      </div>
      <div class="hero-metric-body">
        <div class="hero-metric-value">
          <% if (isOffline) { %>
            <span class="offline-text">Offline</span>
          <% } else if (cpuPercent !== null) { %>
            <span class="value-large <%= cpuPercent >= 90 ? 'critical' : (cpuPercent >= 70 ? 'warning' : '') %>"><%= Math.round(cpuPercent) %>%</span>
          <% } else { %>
            <span class="no-data">-</span>
          <% } %>
        </div>
        <div class="hero-metric-sparkline">
          <canvas id="sparkline-cpu" width="80" height="32"></canvas>
        </div>
      </div>
      <div class="hero-metric-bar">
        <div class="hero-metric-fill <%= cpuPercent >= 90 ? 'critical' : (cpuPercent >= 70 ? 'warning' : 'ok') %>"
             style="width: <%= isOffline ? 0 : Math.min(cpuPercent || 0, 100) %>%"></div>
      </div>
      <div class="hero-metric-details">
        <% if (hardware) { %>
          <% if (hardware.cpu_cores && hardware.cpu_threads) { %>
            <span><%= hardware.cpu_cores %>C / <%= hardware.cpu_threads %>T</span>
          <% } else if (hardware.cpu_cores) { %>
            <span><%= hardware.cpu_cores %> Cores</span>
          <% } %>
          <% if (hardware.cpu_max_mhz) { %>
            <span class="hero-metric-freq"><%= hardware.cpu_max_mhz >= 1000 ? (hardware.cpu_max_mhz / 1000).toFixed(1) + ' GHz' : hardware.cpu_max_mhz + ' MHz' %></span>
          <% } %>
        <% } %>
        <% if (hardware && hardware.cpu_model) { %>
          <span class="hero-metric-subtext"><%= hardware.cpu_model.substring(0, 30) %></span>
        <% } %>
      </div>
    </div>

    <!-- Memory Card -->
    <div class="hero-metric-card <%= isOffline ? 'offline' : (ramPercent >= 90 ? 'critical' : (ramPercent >= 75 ? 'warning' : '')) %>">
      <div class="hero-metric-header">
        <svg class="hero-metric-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <rect x="2" y="6" width="20" height="12" rx="2"/>
          <line x1="6" y1="10" x2="6" y2="14"/>
          <line x1="10" y1="10" x2="10" y2="14"/>
          <line x1="14" y1="10" x2="14" y2="14"/>
          <line x1="18" y1="10" x2="18" y2="14"/>
        </svg>
        <span class="hero-metric-title">Memory</span>
      </div>
      <div class="hero-metric-body">
        <div class="hero-metric-value">
          <% if (isOffline) { %>
            <span class="offline-text">Offline</span>
          <% } else if (ramPercent !== null) { %>
            <span class="value-large <%= ramPercent >= 90 ? 'critical' : (ramPercent >= 75 ? 'warning' : '') %>"><%= Math.round(ramPercent) %>%</span>
          <% } else { %>
            <span class="no-data">-</span>
          <% } %>
        </div>
        <div class="hero-metric-sparkline">
          <canvas id="sparkline-ram" width="80" height="32"></canvas>
        </div>
      </div>
      <div class="hero-metric-bar">
        <div class="hero-metric-fill <%= ramPercent >= 90 ? 'critical' : (ramPercent >= 75 ? 'warning' : 'ok') %>"
             style="width: <%= isOffline ? 0 : Math.min(ramPercent || 0, 100) %>%"></div>
      </div>
      <div class="hero-metric-details">
        <% if (currentStats && currentStats.ram_used_bytes && hardware && hardware.ram_total_bytes) { %>
          <span><%= formatBytesLocal(currentStats.ram_used_bytes) %> / <%= formatBytesLocal(hardware.ram_total_bytes) %></span>
        <% } else if (hardware && hardware.ram_total_bytes) { %>
          <span><%= formatBytesLocal(hardware.ram_total_bytes) %> Total</span>
        <% } %>
        <% if (hardware && hardware.ram_type) { %>
          <span class="hero-metric-subtext"><%= hardware.ram_type %></span>
        <% } %>
      </div>
    </div>

    <!-- Storage Card -->
    <div class="hero-metric-card <%= isOffline ? 'offline' : (diskPercent >= 90 ? 'critical' : (diskPercent >= 80 ? 'warning' : '')) %>">
      <div class="hero-metric-header">
        <svg class="hero-metric-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <ellipse cx="12" cy="5" rx="9" ry="3"/>
          <path d="M21 12c0 1.66-4 3-9 3s-9-1.34-9-3"/>
          <path d="M3 5v14c0 1.66 4 3 9 3s9-1.34 9-3V5"/>
        </svg>
        <span class="hero-metric-title">Storage</span>
      </div>
      <div class="hero-metric-body">
        <div class="hero-metric-value">
          <% if (isOffline) { %>
            <span class="offline-text">Offline</span>
          <% } else if (diskPercent !== null) { %>
            <span class="value-large <%= diskPercent >= 90 ? 'critical' : (diskPercent >= 80 ? 'warning' : '') %>"><%= Math.round(diskPercent) %>%</span>
          <% } else { %>
            <span class="no-data">-</span>
          <% } %>
        </div>
        <div class="hero-metric-sparkline">
          <canvas id="sparkline-disk" width="80" height="32"></canvas>
        </div>
      </div>
      <div class="hero-metric-bar">
        <div class="hero-metric-fill <%= diskPercent >= 90 ? 'critical' : (diskPercent >= 80 ? 'warning' : 'ok') %>"
             style="width: <%= isOffline ? 0 : Math.min(diskPercent || 0, 100) %>%"></div>
      </div>
      <div class="hero-metric-details">
        <% if (currentStats && currentStats.disk_used_bytes && currentStats.disk_total_bytes) { %>
          <span><%= formatBytesLocal(currentStats.disk_used_bytes) %> / <%= formatBytesLocal(currentStats.disk_total_bytes) %></span>
        <% } %>
      </div>
    </div>

    <!-- Network Card -->
    <div class="hero-metric-card <%= isOffline ? 'offline' : '' %>">
      <div class="hero-metric-header">
        <svg class="hero-metric-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M5 12.55a11 11 0 0 1 14.08 0"/>
          <path d="M1.42 9a16 16 0 0 1 21.16 0"/>
          <path d="M8.53 16.11a6 6 0 0 1 6.95 0"/>
          <line x1="12" y1="20" x2="12.01" y2="20"/>
        </svg>
        <span class="hero-metric-title">Network</span>
        <% if (currentStats && currentStats.uptime_seconds) { %>
          <%
            var days = Math.floor(currentStats.uptime_seconds / 86400);
            var hours = Math.floor((currentStats.uptime_seconds % 86400) / 3600);
            var mins = Math.floor((currentStats.uptime_seconds % 3600) / 60);
          %>
          <span class="hero-metric-uptime" title="Uptime">
            <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/>
            </svg>
            <%= days %>d <%= hours %>h
          </span>
        <% } %>
      </div>
      <div class="hero-metric-value hero-metric-network">
        <% if (isOffline) { %>
          <span class="offline-text">Offline</span>
        <% } else { %>
          <div class="network-stats">
            <span class="net-rx"><span class="net-arrow">↓</span> <span class="net-rate">-</span></span>
            <span class="net-tx"><span class="net-arrow">↑</span> <span class="net-rate">-</span></span>
          </div>
        <% } %>
      </div>
      <div class="hero-metric-details">
        <span class="hero-metric-connection">
          <span class="status-dot <%= node.online ? 'online' : 'offline' %>"></span>
          <span class="mono"><%= node.host %>:<%= node.ssh_port %></span>
          <span class="hero-metric-subtext"><%= node.ssh_user %>@</span>
        </span>
      </div>
    </div>
  </div>

  <% if (node.notes) { %>
    <div class="notes-strip">
      <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/>
        <polyline points="14 2 14 8 20 8"/>
        <line x1="16" y1="13" x2="8" y2="13"/>
        <line x1="16" y1="17" x2="8" y2="17"/>
      </svg>
      <span><%= node.notes %></span>
    </div>
  <% } %>

  <!-- Hardware Section (Collapsible with Sub-Sections) -->
  <div class="overview-section collapsible">
    <h2 class="section-header" onclick="toggleSection(this)">
      <span class="section-toggle"><svg viewBox="0 0 24 24"><path d="M6 9l6 6 6-6"/></svg></span>
      Hardware Details
      <% if (hardware && hardware.is_virtual) { %>
        <span class="badge badge-info">VM</span>
      <% } %>
    </h2>
    <div class="section-content">
      <% if (!hardware) { %>
        <div class="empty-state compact">
          <p>Keine Hardware-Daten vorhanden.</p>
          <button class="btn btn-primary btn-sm btn-discover-secondary" onclick="runDiscovery(<%= node.id %>)">
            <span class="btn-text">Discovery starten</span>
            <span class="btn-loading"><span class="spinner"></span></span>
          </button>
        </div>
      <% } else { %>
        <%
          var disks = [];
          try { disks = JSON.parse(hardware.disks_json || '[]'); } catch(e) {}
          var thermalSensors = [];
          try { thermalSensors = JSON.parse(hardware.thermal_json || '[]'); } catch(e) {}
          var powerSensors = [];
          try { powerSensors = JSON.parse(hardware.power_json || '[]'); } catch(e) {}
          var gpus = [];
          try { gpus = JSON.parse(hardware.gpu_json || '[]'); } catch(e) {}
          var memorySlots = [];
          try { memorySlots = JSON.parse(hardware.memory_slots_json || '[]'); } catch(e) {}
          var pciDevices = [];
          try { pciDevices = JSON.parse(hardware.pci_devices_json || '[]'); } catch(e) {}
          var networks = [];
          try { networks = JSON.parse(hardware.network_json || '[]'); } catch(e) {}
        %>

        <!-- CPU Sub-Section -->
        <details class="hardware-subsection" open>
          <summary class="hardware-subsection-header">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <rect x="4" y="4" width="16" height="16" rx="2"/><rect x="9" y="9" width="6" height="6"/>
              <line x1="9" y1="1" x2="9" y2="4"/><line x1="15" y1="1" x2="15" y2="4"/>
              <line x1="9" y1="20" x2="9" y2="23"/><line x1="15" y1="20" x2="15" y2="23"/>
            </svg>
            <span class="subsection-title">CPU</span>
            <span class="subsection-summary"><%= hardware.cpu_model || '-' %></span>
          </summary>
          <div class="hardware-subsection-content">
            <table class="hardware-table">
              <tr><td>Modell</td><td><%= hardware.cpu_model || '-' %></td></tr>
              <tr><td>Hersteller</td><td><%= hardware.cpu_vendor || '-' %></td></tr>
              <tr><td>Cores / Threads</td><td><%= hardware.cpu_cores || '-' %> / <%= hardware.cpu_threads || '-' %></td></tr>
              <tr>
                <td>Frequenz</td>
                <td>
                  <% if (hardware.cpu_cur_mhz) { %>
                    <span class="freq-current"><%= hardware.cpu_cur_mhz >= 1000 ? (hardware.cpu_cur_mhz / 1000).toFixed(2) + ' GHz' : hardware.cpu_cur_mhz + ' MHz' %></span>
                    <span class="freq-range">(Min: <%= hardware.cpu_min_mhz ? (hardware.cpu_min_mhz >= 1000 ? (hardware.cpu_min_mhz / 1000).toFixed(1) : hardware.cpu_min_mhz) : '-' %> / Max: <%= hardware.cpu_max_mhz ? (hardware.cpu_max_mhz >= 1000 ? (hardware.cpu_max_mhz / 1000).toFixed(1) : hardware.cpu_max_mhz) : '-' %> GHz)</span>
                  <% } else if (hardware.cpu_max_mhz) { %>
                    <%= hardware.cpu_max_mhz >= 1000 ? (hardware.cpu_max_mhz / 1000).toFixed(1) + ' GHz' : hardware.cpu_max_mhz + ' MHz' %>
                  <% } else { %>-<% } %>
                </td>
              </tr>
              <tr><td>Architektur</td><td><%= hardware.cpu_arch || '-' %></td></tr>
              <tr><td>Cache</td><td>L1: <%= hardware.cpu_cache_l1 || '-' %> · L2: <%= hardware.cpu_cache_l2 || '-' %> · L3: <%= hardware.cpu_cache_l3 || '-' %></td></tr>
              <% if (hardware.cpu_stepping || hardware.cpu_microcode) { %>
              <tr><td>Stepping / Microcode</td><td><%= hardware.cpu_stepping || '-' %> / <%= hardware.cpu_microcode || '-' %></td></tr>
              <% } %>
              <tr><td>Virtualisierung</td><td><%= hardware.cpu_virt_support === 'vmx' ? 'Intel VT-x' : (hardware.cpu_virt_support === 'svm' ? 'AMD-V' : (hardware.cpu_virt_support || 'Nicht verfuegbar')) %></td></tr>
              <% if (hardware.cpu_flags) { %>
              <tr><td>Features</td><td class="cpu-flags"><%= hardware.cpu_flags %></td></tr>
              <% } %>
            </table>
          </div>
        </details>

        <!-- RAM Sub-Section -->
        <details class="hardware-subsection">
          <summary class="hardware-subsection-header">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <rect x="2" y="6" width="20" height="12" rx="2"/>
              <line x1="6" y1="10" x2="6" y2="14"/><line x1="10" y1="10" x2="10" y2="14"/>
              <line x1="14" y1="10" x2="14" y2="14"/><line x1="18" y1="10" x2="18" y2="14"/>
            </svg>
            <span class="subsection-title">RAM</span>
            <span class="subsection-summary"><%= hardware.ram_total_bytes ? formatBytesLocal(hardware.ram_total_bytes) : '-' %> <%= hardware.ram_type || '' %></span>
          </summary>
          <div class="hardware-subsection-content">
            <table class="hardware-table">
              <tr><td>Gesamt</td><td><%= hardware.ram_total_bytes ? formatBytesLocal(hardware.ram_total_bytes) : '-' %></td></tr>
              <tr><td>Typ</td><td><%= hardware.ram_type || '-' %></td></tr>
              <tr><td>Geschwindigkeit</td><td><%= hardware.ram_speed_mhz ? hardware.ram_speed_mhz + ' MHz' : '-' %></td></tr>
              <tr><td>Swap</td><td><%= hardware.swap_total_bytes ? formatBytesLocal(hardware.swap_total_bytes) : '-' %></td></tr>
            </table>
            <% if (memorySlots.length > 0) { %>
            <h4 class="hardware-table-title">Speicher-Slots</h4>
            <table class="hardware-table hardware-table-striped">
              <thead>
                <tr><th>Slot</th><th>Groesse</th><th>Typ</th><th>Speed</th><th>Hersteller</th><th>Part#</th></tr>
              </thead>
              <tbody>
                <% memorySlots.forEach(function(slot) { %>
                <tr class="<%= !slot.installed ? 'slot-empty' : '' %>">
                  <td><%= slot.locator || 'Slot ' + slot.slot %></td>
                  <% if (slot.installed) { %>
                    <td><%= slot.size_bytes ? formatBytesLocal(slot.size_bytes) : '-' %></td>
                    <td><%= slot.type || '-' %></td>
                    <td><%= slot.speed_mhz ? slot.speed_mhz + ' MHz' : '-' %></td>
                    <td><%= slot.manufacturer || '-' %></td>
                    <td class="mono"><%= slot.part_number ? slot.part_number.substring(0, 16) : '-' %></td>
                  <% } else { %>
                    <td colspan="5" class="text-muted">Leer</td>
                  <% } %>
                </tr>
                <% }); %>
              </tbody>
            </table>
            <% } %>
          </div>
        </details>

        <!-- Storage Sub-Section -->
        <details class="hardware-subsection">
          <summary class="hardware-subsection-header">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <ellipse cx="12" cy="5" rx="9" ry="3"/>
              <path d="M21 12c0 1.66-4 3-9 3s-9-1.34-9-3"/>
              <path d="M3 5v14c0 1.66 4 3 9 3s9-1.34 9-3V5"/>
            </svg>
            <span class="subsection-title">Storage</span>
            <span class="subsection-summary"><%= disks.length %> Disk<%= disks.length !== 1 ? 's' : '' %></span>
          </summary>
          <div class="hardware-subsection-content">
            <% if (disks.length === 0) { %>
              <p class="text-muted">Keine Disks gefunden</p>
            <% } else { %>
              <% disks.forEach(function(disk) { %>
              <div class="disk-card">
                <div class="disk-card-header">
                  <span class="disk-name"><%= disk.name %></span>
                  <span class="disk-type badge <%= disk.type === 'NVMe' ? 'badge-info' : (disk.type === 'SSD' ? 'badge-ok' : 'badge-neutral') %>"><%= disk.type || 'HDD' %></span>
                  <span class="disk-size"><%= disk.size_bytes ? formatBytesLocal(disk.size_bytes) : '-' %></span>
                </div>
                <div class="disk-card-details">
                  <span class="disk-model"><%= disk.model || 'Unbekanntes Modell' %></span>
                  <% if (disk.transport) { %><span class="disk-transport"><%= disk.transport.toUpperCase() %></span><% } %>
                </div>
                <% if (disk.smart_status || disk.power_on_hours || disk.temp_c || disk.wear_level_pct !== null) { %>
                <div class="disk-smart">
                  <% if (disk.smart_health) { %>
                    <span class="smart-badge <%= disk.smart_health === 'Healthy' ? 'ok' : 'critical' %>">
                      <%= disk.smart_health %>
                    </span>
                  <% } %>
                  <% if (disk.temp_c) { %>
                    <span class="smart-item"><svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z"/></svg> <%= disk.temp_c %>&deg;C</span>
                  <% } %>
                  <% if (disk.power_on_hours) { %>
                    <span class="smart-item"><svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg> <%= disk.power_on_hours.toLocaleString ? disk.power_on_hours.toLocaleString() : disk.power_on_hours %>h</span>
                  <% } %>
                  <% if (disk.wear_level_pct !== null && disk.wear_level_pct !== undefined) { %>
                    <span class="smart-item wear <%= disk.wear_level_pct < 20 ? 'critical' : (disk.wear_level_pct < 50 ? 'warning' : 'ok') %>">
                      <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/></svg>
                      Wear: <%= disk.wear_level_pct %>%
                    </span>
                  <% } %>
                  <% if (disk.reallocated_sectors && disk.reallocated_sectors > 0) { %>
                    <span class="smart-item warning">Reallocated: <%= disk.reallocated_sectors %></span>
                  <% } %>
                </div>
                <% } %>
              </div>
              <% }); %>
            <% } %>
          </div>
        </details>

        <!-- GPU Sub-Section (if available) -->
        <% if (gpus.length > 0) { %>
        <details class="hardware-subsection">
          <summary class="hardware-subsection-header">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <rect x="2" y="6" width="20" height="12" rx="2"/>
              <path d="M12 12h.01"/>
            </svg>
            <span class="subsection-title">GPU</span>
            <span class="subsection-summary"><%= gpus.length %> GPU<%= gpus.length !== 1 ? 's' : '' %></span>
          </summary>
          <div class="hardware-subsection-content">
            <table class="hardware-table hardware-table-striped">
              <thead>
                <tr><th>Slot</th><th>Beschreibung</th><th>IDs</th><th>Treiber</th><th>IOMMU</th></tr>
              </thead>
              <tbody>
                <% gpus.forEach(function(gpu) { %>
                <tr>
                  <td class="mono"><%= gpu.slot || '-' %></td>
                  <td><%= gpu.description || '-' %></td>
                  <td class="mono"><%= gpu.vendor_device_id || '-' %></td>
                  <td><%= gpu.driver || '-' %></td>
                  <td><%= gpu.iommu_group !== null ? 'Group ' + gpu.iommu_group : '-' %></td>
                </tr>
                <% }); %>
              </tbody>
            </table>
          </div>
        </details>
        <% } %>

        <!-- PCI Devices Sub-Section -->
        <% if (pciDevices.length > 0) { %>
        <details class="hardware-subsection">
          <summary class="hardware-subsection-header">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <rect x="2" y="7" width="20" height="14" rx="2" ry="2"/>
              <path d="M16 3h-8v4h8z"/>
            </svg>
            <span class="subsection-title">PCI/PCIe</span>
            <span class="subsection-summary"><%= pciDevices.length %> Devices</span>
          </summary>
          <div class="hardware-subsection-content">
            <div class="pci-filter">
              <button class="pci-filter-btn active" onclick="filterPCI(this, 'all')">Alle</button>
              <button class="pci-filter-btn" onclick="filterPCI(this, 'gpu')">GPU</button>
              <button class="pci-filter-btn" onclick="filterPCI(this, 'network')">Network</button>
              <button class="pci-filter-btn" onclick="filterPCI(this, 'storage')">Storage</button>
              <button class="pci-filter-btn" onclick="filterPCI(this, 'usb')">USB</button>
            </div>
            <table class="hardware-table hardware-table-striped pci-table" id="pci-table">
              <thead>
                <tr><th>Slot</th><th>Typ</th><th>Beschreibung</th><th>Vendor:Device</th><th>Treiber</th></tr>
              </thead>
              <tbody>
                <% pciDevices.forEach(function(pci) { %>
                <tr data-type="<%= pci.type %>">
                  <td class="mono"><%= pci.slot || '-' %></td>
                  <td><span class="pci-type-badge <%= pci.type %>"><%= pci.type %></span></td>
                  <td><%= pci.description ? pci.description.substring(0, 40) : pci.class %></td>
                  <td class="mono"><%= pci.vendor_id %>:<%= pci.device_id %></td>
                  <td><%= pci.driver || '-' %></td>
                </tr>
                <% }); %>
              </tbody>
            </table>
          </div>
        </details>
        <% } %>

        <!-- System/Mainboard Sub-Section -->
        <details class="hardware-subsection">
          <summary class="hardware-subsection-header">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <rect x="3" y="3" width="18" height="18" rx="2"/><path d="M7 7h4v4H7z"/><path d="M13 7h4"/><path d="M13 11h4"/><path d="M7 15h10"/>
            </svg>
            <span class="subsection-title">System</span>
            <span class="subsection-summary"><%= hardware.system_manufacturer || '-' %> <%= hardware.system_product || '' %></span>
          </summary>
          <div class="hardware-subsection-content">
            <table class="hardware-table">
              <tr><td>Hersteller</td><td><%= hardware.system_manufacturer || '-' %></td></tr>
              <tr><td>Produkt</td><td><%= hardware.system_product || '-' %></td></tr>
              <tr><td>Seriennummer</td><td class="mono"><%= hardware.system_serial || '-' %></td></tr>
              <tr><td>BIOS Version</td><td><%= hardware.bios_version || '-' %></td></tr>
              <tr><td>Boot Mode</td><td><%= hardware.boot_mode || '-' %></td></tr>
              <% if (hardware.is_virtual) { %>
              <tr><td>Virtualisierung</td><td><span class="badge badge-info"><%= hardware.virt_type || 'VM' %></span></td></tr>
              <% } %>
            </table>
          </div>
        </details>

        <!-- Thermal & Power Sub-Section -->
        <% if (thermalSensors.length > 0 || powerSensors.length > 0) { %>
        <details class="hardware-subsection">
          <summary class="hardware-subsection-header">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z"/>
            </svg>
            <span class="subsection-title">Thermal & Power</span>
            <span class="subsection-summary">
              <% if (thermalSensors.length > 0 && thermalSensors[0].temp_c) { %><%= thermalSensors[0].temp_c.toFixed(0) %>&deg;C<% } %>
              <% if (powerSensors.length > 0 && powerSensors[0].power_w) { %> · <%= powerSensors[0].power_w.toFixed(0) %>W<% } %>
            </span>
          </summary>
          <div class="hardware-subsection-content">
            <% if (thermalSensors.length > 0) { %>
            <h4 class="hardware-table-title">Temperatursensoren</h4>
            <div class="thermal-grid">
              <% thermalSensors.forEach(function(sensor) { %>
                <% if (sensor.temp_c !== null && sensor.temp_c !== undefined) { %>
                <div class="thermal-sensor <%= sensor.temp_c >= 80 ? 'critical' : (sensor.temp_c >= 60 ? 'warning' : 'ok') %>">
                  <span class="thermal-value"><%= sensor.temp_c.toFixed(0) %>&deg;</span>
                  <span class="thermal-label"><%= sensor.label || sensor.name %></span>
                </div>
                <% } %>
              <% }); %>
            </div>
            <% } %>
            <% if (powerSensors.length > 0) { %>
            <h4 class="hardware-table-title">Stromverbrauch</h4>
            <table class="hardware-table">
              <% powerSensors.forEach(function(sensor) { %>
                <% if (sensor.power_w) { %>
                <tr>
                  <td><%= sensor.label || sensor.name %></td>
                  <td><%= sensor.power_w.toFixed(1) %> W</td>
                </tr>
                <% } %>
              <% }); %>
            </table>
            <% } %>
          </div>
        </details>
        <% } %>

      <% } %>
    </div>
  </div>

  <!-- Discovery Section (Collapsible) -->
  <div class="overview-section collapsible">
    <h2 class="section-header" onclick="toggleSection(this)">
      <span class="section-toggle"><svg viewBox="0 0 24 24"><path d="M6 9l6 6 6-6"/></svg></span>
      Discovery & Umgebung
    </h2>
    <div class="section-content">
      <% if (!discovery) { %>
        <div class="empty-state compact">
          <p>Keine Discovery-Daten vorhanden.</p>
          <button class="btn btn-primary btn-sm btn-discover-secondary" onclick="runDiscovery(<%= node.id %>)">
            <span class="btn-text">Discovery starten</span>
            <span class="btn-loading"><span class="spinner"></span></span>
          </button>
        </div>
      <% } else { %>
        <div class="detail-grid compact-grid">
          <!-- OS Info -->
          <div class="detail-card compact">
            <h3>Betriebssystem</h3>
            <dl>
              <dt>Hostname</dt>
              <dd><%= discovery.hostname || '-' %></dd>
              <dt>OS</dt>
              <dd><%= discovery.os_name || '-' %></dd>
              <dt>Architektur</dt>
              <dd><%= discovery.arch || '-' %></dd>
              <dt>Virtualisierung</dt>
              <dd><%= discovery.virtualization || 'Bare Metal' %></dd>
            </dl>
          </div>

          <!-- Proxmox (wenn vorhanden) -->
          <% if (discovery.is_proxmox_host) { %>
            <div class="detail-card compact">
              <h3>Proxmox VE</h3>
              <dl>
                <dt>Version</dt>
                <dd><%= discovery.proxmox_version || '-' %></dd>
                <dt>Cluster</dt>
                <dd><%= discovery.is_proxmox_cluster ? 'Ja' : 'Standalone' %></dd>
                <% if (discovery.is_proxmox_cluster && discovery.proxmox_cluster_name) { %>
                  <dt>Cluster Name</dt>
                  <dd><%= discovery.proxmox_cluster_name %></dd>
                <% } %>
              </dl>
            </div>
          <% } %>

          <!-- Container Runtimes -->
          <div class="detail-card compact">
            <h3>Container & Runtimes</h3>
            <dl>
              <dt>Docker</dt>
              <dd>
                <% if (discovery.has_docker) { %>
                  <span class="badge badge-ok"><%= discovery.docker_version || 'Ja' %></span>
                <% } else { %>
                  <span class="badge badge-neutral">Nein</span>
                <% } %>
              </dd>
              <% if (discovery.has_podman) { %>
                <dt>Podman</dt>
                <dd><span class="badge badge-ok"><%= discovery.podman_version || 'Ja' %></span></dd>
              <% } %>
              <% if (discovery.is_raspberry_pi) { %>
                <dt>Raspberry Pi</dt>
                <dd><span class="badge badge-info"><%= discovery.raspberry_pi_model || 'Ja' %></span></dd>
              <% } %>
              <dt>Systemd</dt>
              <dd>
                <% if (discovery.has_systemd) { %>
                  <span class="badge badge-ok">Verfügbar</span>
                <% } else { %>
                  <span class="badge badge-neutral">Nein</span>
                <% } %>
              </dd>
            </dl>
          </div>

        </div>
      <% } %>
    </div>
  </div>

  <!-- System Health Section (Collapsible) - ProxMenux Style -->
  <div class="overview-section collapsible">
    <h2 class="section-header" onclick="toggleSection(this)">
      <span class="section-toggle"><svg viewBox="0 0 24 24"><path d="M6 9l6 6 6-6"/></svg></span>
      System Health
      <% if (health && health.health_status) { %>
        <span class="badge badge-<%= health.health_status === 'healthy' ? 'ok' : (health.health_status === 'warning' ? 'warning' : 'critical') %>">
          <%= health.health_score || 100 %>%
        </span>
      <% } %>
      <% if (health && health.apt_updates > 0) { %>
        <span class="badge badge-warning"><%= health.apt_updates %> Updates</span>
      <% } %>
      <% if (health && health.reboot_required) { %>
        <span class="badge badge-critical">Reboot</span>
      <% } %>
    </h2>
    <div class="section-content">
      <% if (!health) { %>
        <div class="empty-state compact">
          <p>Noch kein Health-Check durchgefuehrt. Klicke oben auf <strong>Health</strong> um einen Check zu starten.</p>
        </div>
      <% } else { %>
        <!-- Health Score Overview -->
        <% if (health.health_issues) { %>
          <div class="health-issues-banner <%= health.health_status %>">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <circle cx="12" cy="12" r="10"/><line x1="12" y1="8" x2="12" y2="12"/><line x1="12" y1="16" x2="12.01" y2="16"/>
            </svg>
            <span><%= health.health_issues %></span>
          </div>
        <% } %>

        <!-- Health Checks Grid (ProxMenux Style) -->
        <div class="health-checks-grid">
          <!-- CPU Temperature -->
          <div class="health-check-item <%= health.cpu_temp_status || 'unknown' %>">
            <div class="health-check-icon">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z"/>
              </svg>
            </div>
            <div class="health-check-info">
              <span class="health-check-label">CPU Temp</span>
              <span class="health-check-value"><%= health.cpu_temp > 0 ? health.cpu_temp + '°C' : 'N/A' %></span>
            </div>
            <div class="health-check-status <%= health.cpu_temp_status || 'unknown' %>"></div>
          </div>

          <!-- Load Average -->
          <div class="health-check-item <%= health.load_status || 'ok' %>">
            <div class="health-check-icon">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M22 12h-4l-3 9L9 3l-3 9H2"/>
              </svg>
            </div>
            <div class="health-check-info">
              <span class="health-check-label">Load Average</span>
              <span class="health-check-value"><%= health.load_1 ? health.load_1.toFixed(2) : '0.00' %></span>
            </div>
            <div class="health-check-status <%= health.load_status || 'ok' %>"></div>
          </div>

          <!-- Memory -->
          <div class="health-check-item <%= health.mem_status || 'ok' %>">
            <div class="health-check-icon">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <rect x="2" y="6" width="20" height="12" rx="2"/>
                <line x1="6" y1="10" x2="6" y2="14"/><line x1="10" y1="10" x2="10" y2="14"/>
                <line x1="14" y1="10" x2="14" y2="14"/><line x1="18" y1="10" x2="18" y2="14"/>
              </svg>
            </div>
            <div class="health-check-info">
              <span class="health-check-label">Memory</span>
              <span class="health-check-value"><%= health.mem_percent || 0 %>%</span>
            </div>
            <div class="health-check-status <%= health.mem_status || 'ok' %>"></div>
          </div>

          <!-- Swap -->
          <div class="health-check-item <%= health.swap_status || 'ok' %>">
            <div class="health-check-icon">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <polyline points="17 1 21 5 17 9"/><path d="M3 11V9a4 4 0 0 1 4-4h14"/>
                <polyline points="7 23 3 19 7 15"/><path d="M21 13v2a4 4 0 0 1-4 4H3"/>
              </svg>
            </div>
            <div class="health-check-info">
              <span class="health-check-label">Swap</span>
              <span class="health-check-value"><%= health.swap_percent || 0 %>%</span>
            </div>
            <div class="health-check-status <%= health.swap_status || 'ok' %>"></div>
          </div>

          <!-- Disk -->
          <div class="health-check-item <%= health.disk_status || 'ok' %>">
            <div class="health-check-icon">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <ellipse cx="12" cy="5" rx="9" ry="3"/>
                <path d="M21 12c0 1.66-4 3-9 3s-9-1.34-9-3"/>
                <path d="M3 5v14c0 1.66 4 3 9 3s9-1.34 9-3V5"/>
              </svg>
            </div>
            <div class="health-check-info">
              <span class="health-check-label">Disk (root)</span>
              <span class="health-check-value"><%= health.disk_percent || 0 %>%</span>
            </div>
            <div class="health-check-status <%= health.disk_status || 'ok' %>"></div>
          </div>

          <!-- Failed Services -->
          <div class="health-check-item <%= health.services_status || 'ok' %>">
            <div class="health-check-icon">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <rect x="2" y="3" width="20" height="14" rx="2"/><line x1="8" y1="21" x2="16" y2="21"/>
                <line x1="12" y1="17" x2="12" y2="21"/>
              </svg>
            </div>
            <div class="health-check-info">
              <span class="health-check-label">Failed Services</span>
              <span class="health-check-value"><%= health.failed_services || 0 %></span>
            </div>
            <div class="health-check-status <%= health.services_status || 'ok' %>"></div>
          </div>

          <!-- Zombie Processes -->
          <div class="health-check-item <%= health.zombie_status || 'ok' %>">
            <div class="health-check-icon">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <circle cx="12" cy="12" r="10"/><path d="M8 15h8"/><circle cx="9" cy="9" r="1"/><circle cx="15" cy="9" r="1"/>
              </svg>
            </div>
            <div class="health-check-info">
              <span class="health-check-label">Zombies</span>
              <span class="health-check-value"><%= health.zombie_processes || 0 %></span>
            </div>
            <div class="health-check-status <%= health.zombie_status || 'ok' %>"></div>
          </div>

          <!-- Time Sync -->
          <div class="health-check-item <%= health.time_status || 'unknown' %>">
            <div class="health-check-icon">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/>
              </svg>
            </div>
            <div class="health-check-info">
              <span class="health-check-label">Time Sync</span>
              <span class="health-check-value"><%= health.time_sync || 'Unknown' %></span>
            </div>
            <div class="health-check-status <%= health.time_status || 'unknown' %>"></div>
          </div>

          <!-- Network -->
          <div class="health-check-item <%= health.net_status || 'unknown' %>">
            <div class="health-check-icon">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M5 12.55a11 11 0 0 1 14.08 0"/><path d="M1.42 9a16 16 0 0 1 21.16 0"/>
                <path d="M8.53 16.11a6 6 0 0 1 6.95 0"/><line x1="12" y1="20" x2="12.01" y2="20"/>
              </svg>
            </div>
            <div class="health-check-info">
              <span class="health-check-label">Network</span>
              <span class="health-check-value"><%= health.net_gateway || 'N/A' %></span>
            </div>
            <div class="health-check-status <%= health.net_status || 'unknown' %>"></div>
          </div>

          <!-- Updates -->
          <div class="health-check-item <%= health.apt_status || 'ok' %>">
            <div class="health-check-icon">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/>
                <polyline points="7 10 12 15 17 10"/><line x1="12" y1="15" x2="12" y2="3"/>
              </svg>
            </div>
            <div class="health-check-info">
              <span class="health-check-label">Updates</span>
              <span class="health-check-value"><%= health.apt_updates || 0 %><% if (health.apt_security > 0) { %> (<%= health.apt_security %> sec)<% } %></span>
            </div>
            <div class="health-check-status <%= health.apt_status || 'ok' %>"></div>
          </div>

          <!-- Reboot Required -->
          <div class="health-check-item <%= health.reboot_required ? 'warning' : 'ok' %>">
            <div class="health-check-icon">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M23 4v6h-6"/><path d="M1 20v-6h6"/>
                <path d="M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"/>
              </svg>
            </div>
            <div class="health-check-info">
              <span class="health-check-label">Reboot</span>
              <span class="health-check-value"><%= health.reboot_required ? 'Required' : 'Not needed' %></span>
            </div>
            <div class="health-check-status <%= health.reboot_required ? 'warning' : 'ok' %>"></div>
          </div>

          <!-- Kernel -->
          <div class="health-check-item ok">
            <div class="health-check-icon">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <rect x="4" y="4" width="16" height="16" rx="2"/><rect x="9" y="9" width="6" height="6"/>
              </svg>
            </div>
            <div class="health-check-info">
              <span class="health-check-label">Kernel</span>
              <span class="health-check-value"><%= health.kernel_version ? health.kernel_version.substring(0, 20) : 'N/A' %></span>
            </div>
            <div class="health-check-status ok"></div>
          </div>
        </div>

        <!-- Package List (collapsed by default) -->
        <% if (health.apt_packages_json) {
          var aptPackages = [];
          try { aptPackages = JSON.parse(health.apt_packages_json || '[]'); } catch(e) {}
          if (aptPackages.length > 0) {
            var securityCount = aptPackages.filter(function(p) { return p.is_security; }).length;
        %>
        <details class="health-details packages-details">
          <summary>
            <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"/>
              <polyline points="3.27 6.96 12 12.01 20.73 6.96"/>
              <line x1="12" y1="22.08" x2="12" y2="12"/>
            </svg>
            <%= aptPackages.length %> Packages verfuegbar
            <% if (securityCount > 0) { %>
              <span class="badge badge-critical"><%= securityCount %> Security</span>
            <% } %>
          </summary>
          <div class="packages-list">
            <% aptPackages.forEach(function(pkg) { %>
              <div class="package-item <%= pkg.is_security ? 'security' : '' %>">
                <span class="package-icon">
                  <% if (pkg.is_security) { %>
                    <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                      <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/>
                    </svg>
                  <% } else { %>
                    <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                      <path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"/>
                    </svg>
                  <% } %>
                </span>
                <span class="package-name"><%= pkg.name %></span>
                <span class="package-version">
                  <span class="version-old"><%= (pkg.old_version || '').substring(0, 15) %></span>
                  <span class="version-arrow">→</span>
                  <span class="version-new"><%= (pkg.new_version || '').substring(0, 15) %></span>
                </span>
                <% if (pkg.is_security) { %>
                  <span class="badge badge-critical badge-sm">SEC</span>
                <% } %>
              </div>
            <% }); %>
          </div>
        </details>
        <% }} %>

        <!-- System Details (collapsed by default) -->
        <details class="health-details">
          <summary>System Details</summary>
          <div class="detail-grid compact-grid">
            <!-- System Info -->
            <div class="detail-card compact">
              <h3>System</h3>
              <dl>
                <dt>Kernel</dt>
                <dd><%= health.kernel_version || '-' %></dd>
                <dt>Letzter Boot</dt>
                <dd><%= health.last_boot || '-' %></dd>
                <dt>Load (1/5/15)</dt>
                <dd><%= health.load_1 ? health.load_1.toFixed(2) : '0' %> / <%= health.load_5 ? health.load_5.toFixed(2) : '0' %> / <%= health.load_15 ? health.load_15.toFixed(2) : '0' %></dd>
              </dl>
            </div>

            <% if (health.pve_version) { %>
            <!-- Proxmox -->
            <div class="detail-card compact">
              <h3>Proxmox</h3>
              <dl>
                <dt>Version</dt>
                <dd><%= health.pve_version %></dd>
                <dt>Repository</dt>
                <dd>
                  <% if (health.pve_repo === 'enterprise') { %>
                    <span class="badge badge-warning">Enterprise</span>
                  <% } else if (health.pve_repo === 'no-subscription') { %>
                    <span class="badge badge-ok">No-Subscription</span>
                  <% } else { %>
                    <span class="badge badge-neutral">Unbekannt</span>
                  <% } %>
                </dd>
              </dl>
            </div>
            <% } %>

            <% if (health.failed_services > 0 && health.failed_services_list) { %>
            <!-- Failed Services Detail -->
            <div class="detail-card compact">
              <h3>Failed Services</h3>
              <div class="failed-services-list">
                <% health.failed_services_list.split(',').forEach(function(svc) { if(svc) { %>
                  <span class="badge badge-critical"><%= svc.trim() %></span>
                <% }}); %>
              </div>
            </div>
            <% } %>
          </div>
        </details>

        <!-- Actions -->
        <div class="health-actions">
          <button class="btn btn-secondary btn-sm btn-health-check" onclick="runHealthCheck(<%= node.id %>)">
            <span class="btn-text">
              <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M23 4v6h-6"/><path d="M1 20v-6h6"/>
                <path d="M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"/>
              </svg>
              Erneut pruefen
            </span>
            <span class="btn-loading"><span class="spinner"></span></span>
          </button>
          <% if (health.apt_updates > 0) { %>
            <button class="btn btn-primary btn-sm" onclick="runUpgrade(<%= node.id %>)">
              <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/>
                <polyline points="7 10 12 15 17 10"/><line x1="12" y1="15" x2="12" y2="3"/>
              </svg>
              Upgrade (<%= health.apt_updates %>)
            </button>
          <% } %>
          <% if (health.pve_version && health.pve_repo === 'enterprise') { %>
            <button class="btn btn-warning btn-sm" onclick="switchProxmoxRepo(<%= node.id %>, 'no-subscription')">
              No-Subscription
            </button>
          <% } %>
          <small class="text-muted">Zuletzt: <%= health.checked_at || '-' %></small>
        </div>
      <% } %>
    </div>
  </div>
</div>
